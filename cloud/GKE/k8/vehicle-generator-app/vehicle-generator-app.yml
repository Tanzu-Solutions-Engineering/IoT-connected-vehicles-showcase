apiVersion: v1
kind: Pod
metadata:
  labels:
    run:  vehicle-generator-app
  name:  vehicle-generator-app
spec:
  containers:
    - env:
        - name: spring_rabbitmq_host
          value: rabbitmq
        - name: spring_rabbitmq_username
          valueFrom:
            secretKeyRef:
              name: vehicle-secrets
              key: spring_rabbitmq_username
        - name: spring_rabbitmq_password
          valueFrom:
            secretKeyRef:
              name: vehicle-secrets
              key: spring_rabbitmq_password
        - name: spring.data.gemfire.pool.locators
          valueFrom:
            configMapKeyRef:
              name: vehicle-configmap
              key: spring.data.gemfire.pool.locators
      image: nyla/vehicle-generator-app:0.0.1-SNAPSHOT
      name: vehicle-generator-app
